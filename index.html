<!DOCTYPE html>
<html>

<head>
  <title>Fillable PDF Example</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <div class="navbar">
    <div class="navbar-title">
      Data Gathering
    </div>
  </div>
  
  <table>
    <tr>
      <th></th>
      <th style="background-color: rgb(194, 53, 53);">Questionnaires</th>
      <th style="background-color: rgba(255, 0, 0, 0.797);">History</th>
      <th style="background-color: orange;">Examination</th>
      <th style="background-color: yellow;">Investigations</th>
      <th style="background-color: rgb(46, 179, 46);">Risk scores</th>
      <th style="background-color: rgb(65, 133, 228);">Frequency</th>
    </tr>
    <tr>
      <td>All assesments</td>
      <td>Lifestyle Assesment</td>
      <td>Personal Goal&#10; Adherence&#10; FH CVD&#10; (Vaccinations)&#10; (Screening)</td>
      <td>Weight</td>
    </tr>
    <tr>
      <td>Diabetes type 2</td>
      <td class="no-show"></td>
      <td class="no-show"></td>
      <td>BP&#10; Foot Screening</td>
      <td>HBA1c&#10; UE&#10; Lipids&#10; ACR</td>
      <td>FRAX (if > 50)&#10; ASSIGN (if not on statin)</td>
      <td>Annualy if HBA1c in range&#10; 6 monthly if HBA1c above target</td>
    </tr>
  </table>

  <div class="container">
    <input type="button" value="Create PDF" onclick="generatePDF()">
  </div>

  <!-- <h2 style="color:blue">
    Precision Monitoring
  </h2>
  <h3>
    Generate a PDF file.
  </h3>

  <div class="container">
    <input type="button" value="Create PDF" onclick="generatePDF()">
  </div> -->

  <script type="text/javascript">
    function generatePDF() {
      const { jsPDF, AcroFormTextField } = window.jspdf;
      const doc = new jsPDF();

      const labelFontSize = 12;
      const labelX = 20;
      const labelY = 15;

      const fieldFontSize = 12;
      const fieldX = 20;
      const fieldY = 20;
      const fieldWidth = 80;
      const fieldHeight = 10;

      // Field outline
      doc.setFontSize(labelFontSize);
      doc.text('Name:', fieldX, labelY);
      doc.setFontSize(fieldFontSize);
      doc.rect(fieldX, fieldY, fieldWidth, fieldHeight);

      var nameTextField = new AcroFormTextField();
      nameTextField.showWhenPrinted = true;
      nameTextField.Rect = [fieldX, fieldY, fieldWidth, fieldHeight];
      doc.addField(nameTextField);

      
      doc.setFontSize(labelFontSize);
      doc.text('CHI number:', fieldX + 95, labelY);
      doc.setFontSize(fieldFontSize);
      doc.rect(fieldX + 95, fieldY, fieldWidth, fieldHeight);

      var chiTextField = new AcroFormTextField();
      chiTextField.Rect = [fieldX + 95, fieldY, fieldWidth, fieldHeight];
      doc.addField(chiTextField);

      doc.save("data-gathering.pdf");
    }            
  </script>

</body>

</html>